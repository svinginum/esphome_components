external_components:
  - source: github://svinginum/esphome_components
    refresh: 0s  
    
select:

  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Set modbus mode"
    id: sentio_set_modbus_mode
    address: 0x00005
    force_new_range: true
    use_write_multiple: true
    value_type: U_WORD
    optionsmap:
      "Disabled" : 0
      "Read only" : 1
      "Read/Write" : 2
      "Write with password" : 3

  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Sentio Vacation Mode"
    id: sentio_vacation_mode
    address: 27
    force_new_range: true
    use_write_multiple: true
    value_type: U_WORD
    optionsmap:
      "OFF" : 0
      "ON" : 1

#########################
#### SYSTEM TEMPERATURE SENSORS (T2-T3) ####
#########################
sensor:

  # Pump State - Input Register 07304 (Read-only, 1=IDLE, 2=ON)
  # Type: val_u1 (1 byte stored in 16-bit register)
  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Sentio Pump State"
    id: sentio_pump_state
    register_type: holding
    address: 7304
    force_new_range: true
    force_new_range: true

  # T2 - Measured inlet temperature (Flow temperature for heating circuit 1)
  # Input Register 07305 - Measured temperature of the inlet heating/cooling water
  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Sentio Flow Temperature"
    id: sentio_t2_flow_temp
    unit_of_measurement: °C
    accuracy_decimals: 1
    device_class: temperature
    register_type: read
    address: 7305
    force_new_range: true
    value_type: U_WORD
    filters:
      - multiply: 0.01

  # T3 - Measured return temperature
  # Input Register 07307 - Measured return temperature
  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Sentio Return Temperature"
    id: sentio_t3_return_temp
    unit_of_measurement: °C
    accuracy_decimals: 1
    device_class: temperature
    register_type: read
    address: 7307
    force_new_range: true
    value_type: U_WORD
    filters:
      - multiply: 0.01

  # Desired inlet temperature (Setpoint - Read only)
  # Input Register 07306 - Desired temperature of the inlet heating/cooling water
  # The value which the ITC regulator wants to meet
  - platform: modbus_controller
    modbus_controller_id: sentio_modbus_controller
    name: "Sentio Wanted Flow Temperature"
    id: sentio_desired_inlet_temp
    unit_of_measurement: °C
    accuracy_decimals: 1
    device_class: temperature
    register_type: read
    address: 7306
    force_new_range: true
    value_type: U_WORD
    filters:
      - multiply: 0.01

